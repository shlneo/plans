{% extends "base.html" %}
{% block title %}ErespondentS | Формирование планов энергосберегающих мероприятий{% endblock %}
{% block content %}

<main class="modern-container">
    <section class="modern-hero">
        <div class="hero-glass">
            <h1 class="hero-gradient-text">
                Формирование планов<br>энергосберегающих мероприятий
            </h1>
            <p class="hero-subtext">
                Автоматизированный комплекс для создания, анализа и оптимизации планов энергоэффективности предприятий
            </p>
            <div class="hero-actions">
                {% if current_user.is_authenticated %}
                    <a href="/plans" class="modern-btn modern-btn-primary">
                        <span>Перейти к планам</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M5 12H19M19 12L12 5M19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                {% else %}
                    <a href="/login" class="modern-btn modern-btn-primary">
                        <span>Войти в систему</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M10 17L15 12L10 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M15 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </a>
                    <a href="/sign" class="modern-btn modern-btn-outline">
                        <span>Начать работу</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M8.5 11C10.7091 11 12.5 9.20914 12.5 7C12.5 4.79086 10.7091 3 8.5 3C6.29086 3 4.5 4.79086 4.5 7C4.5 9.20914 6.29086 11 8.5 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                {% endif %}
            </div>
        </div>
        
        <div class="hero-stats">
            <div class="stat-card">
                <div class="stat-numbers" data-count="{{organization_data}}">0</div>
                <div class="stat-label">Предприятий в системе</div>
                <div class="stat-trend">+12 за месяц</div>
            </div>
            <div class="stat-card">
                <div class="stat-numbers" data-count="{{plan_data}}">0</div>
                <div class="stat-label">Созданных планов</div>
                <div class="stat-trend">+1 за месяц</div>
            </div>
            <div class="stat-card">
                <div class="stat-numbers" data-count="{{user_data}}">0</div>
                <div class="stat-label">Активных респондентов</div>
                <div class="stat-trend">+8 за месяц</div>
            </div>
        </div>
    </section>

    <section id="contacts-cont" class="modern-contact">
        <div class="contact-glass">
            <h2 class="contact-title">Контакты</h2>
            <p class="contact-subtitle">Есть вопросы? Техническая поддержка поможет.</p>
            <div class="contact-methods">
                <a href="mailto:energoeffect@gosstandart.gov.by" class="contact-method">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 6L12 13L2 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-type">Email</div>
                        <div class="contact-value">energoeffect@gosstandart.gov.by</div>
                    </div>
                </a>
                <div class="contact-method">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M21 10C21 17 12 23 12 23C12 23 3 17 3 10C3 7.61305 3.94821 5.32387 5.63604 3.63604C7.32387 1.94821 9.61305 1 12 1C14.3869 1 16.6761 1.94821 18.364 3.63604C20.0518 5.32387 21 7.61305 21 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-type">Офис</div>
                        <div class="contact-value">пл. Свободы 17, Минск</div>
                    </div>
                </div>
                <a href="tel:+375173385051" class="contact-method">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M22 16.92V19.92C22 20.47 21.55 20.92 21 20.92C18.75 20.92 16.68 20.17 15.06 18.88C13.5 17.64 12.3 16.02 11.66 14.18C11.36 13.37 11.19 12.52 11.16 11.66C11.15 11.29 11.24 10.93 11.41 10.61L12.71 8.31C12.91 7.94 12.96 7.5 12.84 7.1C12.73 6.7 12.45 6.36 12.07 6.17L9.36 4.87C8.39 4.38 7.24 4.62 6.52 5.38L5.73 6.21C5.26 6.69 5.04 7.36 5.14 8.02C5.51 10.56 6.8 12.96 8.81 14.79C10.82 16.62 13.51 17.79 16.39 18.12C16.82 18.17 17.25 18.09 17.62 17.88L18.57 17.37C19.32 16.96 20.27 17.06 20.91 17.62L21.83 18.44C22.21 18.79 22.4 19.3 22.35 19.81" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-type">Телефон приемной</div>
                        <div class="contact-value" >+375 17 338-50-51</div>
                    </div>
                </a>
        
                <a href="tel:+375172315563" class="contact-method">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M22 16.92V19.92C22 20.47 21.55 20.92 21 20.92C18.75 20.92 16.68 20.17 15.06 18.88C13.5 17.64 12.3 16.02 11.66 14.18C11.36 13.37 11.19 12.52 11.16 11.66C11.15 11.29 11.24 10.93 11.41 10.61L12.71 8.31C12.91 7.94 12.96 7.5 12.84 7.1C12.73 6.7 12.45 6.36 12.07 6.17L9.36 4.87C8.39 4.38 7.24 4.62 6.52 5.38L5.73 6.21C5.26 6.69 5.04 7.36 5.14 8.02C5.51 10.56 6.8 12.96 8.81 14.79C10.82 16.62 13.51 17.79 16.39 18.12C16.82 18.17 17.25 18.09 17.62 17.88L18.57 17.37C19.32 16.96 20.27 17.06 20.91 17.62L21.83 18.44C22.21 18.79 22.4 19.3 22.35 19.81" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-type">Телефон техподдержки</div>
                        <div class="contact-value" >+375 17 365-04-33</div>
                    </div>
                </a>
                <div class="contact-method">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="contact-info">
                        <div class="contact-type">Часы работы</div>
                        <div class="contact-value">Пн-Пт: 9:00 - 18:00</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<div class="bg-grid"></div>
<div class="bg-blur-1"></div>
<div class="bg-blur-2"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const statNumbers = document.querySelectorAll('.stat-numbers');
    
    const animateCounter = (element) => {
        const target = parseInt(element.getAttribute('data-count'));
        const duration = 2000;
        const start = 0;
        const increment = target / (duration / 16);
        let current = start;
        
        const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            element.textContent = Math.floor(current);
        }, 16);
    };
    
    // Запуск анимации при скролле
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounter(entry.target);
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.5 });
    
    statNumbers.forEach(stat => observer.observe(stat));
    
    // Эффект параллакса для background
    window.addEventListener('mousemove', (e) => {
        const x = (e.clientX / window.innerWidth) * 20;
        const y = (e.clientY / window.innerHeight) * 20;
        
        document.querySelector('.bg-grid').style.transform = `translate(${x}px, ${y}px)`;
    });
});

</script>
{% endblock %}